duze(X, A) :-
	(A = [1,1,1,1,_,_,1,_,_,_,1,_,_,1,_,_,_,1,_,_,1,1,1,1] -> Y is 1; Y is 0),
	X =:= Y.
    
srednie(X, A) :-
	(A = [1,1,_,1,_,1,_,_,_,_,1,_,1,_,1,1,_,_,_,_,_,_,_,_] -> Y1 is 1; Y1 is 0),
	(A = [_,_,_,_,_,_,_,1,1,_,1,_,1,_,_,_,_,1,_,1,_,1,1,_] -> Y2 is Y1+1; Y2 is Y1),
	(A = [_,1,1,_,1,_,1,_,_,_,_,1,_,1,_,1,1,_,_,_,_,_,_,_] -> Y3 is Y2+1; Y3 is Y2),
	(A = [_,_,_,_,_,_,_,_,1,1,_,1,_,1,_,_,_,_,1,_,1,_,1,1] -> Y4 is Y3+1; Y4 is Y3),
	X =:= Y4.

male(X, A) :-
	(A = [1,_,_,1,1,_,_,1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_] -> Y1 is 1; Y1 is 0),
	(A = [_,1,_,_,1,1,_,_,1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_] -> Y2 is Y1+1; Y2 is Y1),
	(A = [_,_,1,_,_,1,1,_,_,1,_,_,_,_,_,_,_,_,_,_,_,_,_,_] -> Y3 is Y2+1; Y3 is Y2),
	(A = [_,_,_,_,_,_,_,1,_,_,1,1,_,_,1,_,_,_,_,_,_,_,_,_] -> Y4 is Y3+1; Y4 is Y3),
	(A = [_,_,_,_,_,_,_,_,1,_,_,1,1,_,_,1,_,_,_,_,_,_,_,_] -> Y5 is Y4+1; Y5 is Y4),
	(A = [_,_,_,_,_,_,_,_,_,1,_,_,1,1,_,_,1,_,_,_,_,_,_,_] -> Y6 is Y5+1; Y6 is Y5),
	(A = [_,_,_,_,_,_,_,_,_,_,_,_,_,_,1,_,_,1,1,_,_,1,_,_] -> Y7 is Y6+1; Y7 is Y6),
	(A = [_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,1,_,_,1,1,_,_,1,_] -> Y8 is Y7+1; Y8 is Y7),
	(A = [_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,1,_,_,1,1,_,_,1] -> Y9 is Y8+1; Y9 is Y8),
	X =:= Y9.

zabierz(0, L, W) :-
    W = L.
zabierz(N, List, Wynik) :-
    N =\= 0,
    append(Left,[1 | Right], List),
    append(Left,[0 | Right], List2),
    N2 is N - 1,
    zabierz(N2, List2, Wynik).

rysuj(25,_).

rysuj(N,[H| Lista]) :-
    (
        mod(N,7) =:= 1
    ;   mod(N,7) =:= 2
    ;   mod(N,7) =:= 3
    ),
    write('+'),
    (H =:= 1 -> write('---'); write('   ')),
    (mod(N,7) =:= 3 -> (write('+'),nl); true),
    N2 is N + 1,
    rysuj(N2,Lista).
    
rysuj(N,[H| Lista]) :-
    (
        mod(N,7) =:= 4
    ;   mod(N,7) =:= 5
    ;   mod(N,7) =:= 6
    ;   mod(N,7) =:= 0
    ),
    (H =:= 1 -> write('|'); write(' ')),
    (mod(N,7) =:= 0 -> nl; write('   ')),
    N2 is N+1,
    rysuj(N2, Lista).
  
zapalki(N, (duze(B), srednie(C), male(D))) :-
	Lista = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    between(0,24,N),  
    zabierz(N, Lista, Wynik), 
    
	duze(B, Wynik),
	srednie(C, Wynik),
	male(D, Wynik),
    
    write('Rozwiazanie:'),
    nl,
    rysuj(1,Wynik).